# Feature Plan: 김치군(김치君) — 살아있는 김치 마스코트 시스템

## 메타데이터
- **Feature ID**: kimchi-mascot
- **작성일**: 2026-02-28
- **기획자**: CTO 팀 (Product Manager Lead)
- **우선순위**: High (UX 차별화 핵심)
- **예상 난이도**: Medium-High
- **타겟 사용자**: 김치공장 현장 운영자, 관리자

---

## 1. 배경 및 동기 (Why)

현재 Kimchi-Agent는 기능적으로는 충실하지만, **공장 현장 근무자들이 AI 시스템에 낯설음을 느끼고 사용을 꺼리는** 문제가 존재한다. 특히:
- 50대 이상 현장 근무자 → 딱딱한 텍스트 인터페이스에 거부감
- 긴 대기 시간(로딩) → 무응답 느낌으로 이탈 유발
- 동일한 화면 → 장시간 사용 시 지루함

**김치군(김치君)** 은 단순한 장식이 아니라, **AI 시스템의 감정 표현 레이어**다.
"기계가 아니라 같이 일하는 동료"라는 느낌을 줘서 에이전트 사용률을 높인다.

---

## 2. 핵심 개념 (Core Concept)

```
김치군 = 배추김치 캐릭터 + 감정 애니메이션 + 상황별 추임새 시스템
```

| 요소 | 설명 |
|------|------|
| **캐릭터** | 배추김치가 두 눈 + 팔다리를 가진 귀여운 캐릭터 (SVG/CSS) |
| **감정 상태** | idle, thinking, success, error, loading, celebrating |
| **추임새 (대사)** | 상황별 한국어 표현 — 공장 현장 감성 |
| **트리거** | 사용자 액션(전송, 로딩, 응답, 오류, 검색 등)에 자동 반응 |

---

## 3. 상황별 시나리오 (Use Cases)

### UC-01: 메시지 전송 중 (로딩/대기)
- **애니메이션**: 김치군이 좌우로 흔들리며 기다림 표현
- **추임새 풀**:
  - "기둘려~ 생각 중이야🥬"
  - "으음... 잠깐만이요~"
  - "김치 숙성 중... 조금만요!"
  - "뚝딱뚝딱 답 만드는 중!"
  - "이게 맞나... 한번 더 볼게요"

### UC-02: 응답 완료 (Success)
- **애니메이션**: 폴짝 뛰며 팔을 번쩍 들어 올림
- **추임새 풀**:
  - "야호! 찾았다! 🎉"
  - "빠빰~ 답 나왔어요!"
  - "헤헤, 이 정도는 식은 죽 먹기죠~"
  - "짜잔~! 어때요?"
  - "우리 김치공장 짱이야!"

### UC-03: 문서 업로드 완료
- **애니메이션**: 김치군이 문서를 안고 춤을 춤
- **추임새 풀**:
  - "맛있는 데이터 잘 받았어요! 냠냠~"
  - "이제 이것도 다 외웠어요! 😄"
  - "데이터 맛있다~ 잘 익혀 놓을게요"

### UC-04: 오류 발생 (Error)
- **애니메이션**: 고개를 긁으며 당황한 표정
- **추임새 풀**:
  - "앗! 이건 좀 어렵네요... 😅"
  - "으악, 뭔가 잘못됐어요!"
  - "죄송해요~ 다시 해볼게요!"
  - "이거... 김치가 안 익은 것 같은데요?"

### UC-05: 첫 방문 / 대기 (Idle)
- **애니메이션**: 천천히 숨쉬듯 위아래 움직임 + 눈 깜박임
- **추임새 풀**:
  - "안녕하세요! 김치군이에요 🥬"
  - "뭔가 물어볼 거 있어요?"
  - "오늘 공장 어때요?"
  - "김치 잘 익고 있나요?"

### UC-06: 검색/RAG 실행 중
- **애니메이션**: 돋보기를 들고 여기저기 두리번거림
- **추임새 풀**:
  - "어디 보자~ 문서 뒤지는 중!"
  - "잠깐! 여기 있는 거 같은데..."
  - "으음, 열심히 찾고 있어요!"

### UC-07: 야간 시간대 (22:00~06:00)
- **추임새 풀**:
  - "이 시간에도 일하세요? 고생 많으세요~ 😴"
  - "밤에도 열심히시네요!"
  - "야근이에요? 파이팅!"

### UC-08: 긴 응답 생성 중 (30초 이상)
- **추임새 풀**:
  - "좀 복잡한 질문이네요~ 조금 더요!"
  - "김치 깊은 맛처럼 천천히 생각 중이에요"
  - "이거 진짜 어렵네요... 하지만 할 수 있어!"

---

## 4. 기술 요구사항 (Technical Requirements)

### 4.1 캐릭터 구현
- **방식**: SVG 인라인 + CSS Animation (외부 이미지 의존 없음)
- **크기**: 기본 60x60px, 반응형 (모바일 40x40px)
- **위치**: 화면 우하단 고정 (position: fixed) 또는 채팅창 옆
- **레이어**: z-index 최상위로 항상 표시

### 4.2 애니메이션 States
```typescript
type MascotState =
  | 'idle'        // 기본 숨쉬기
  | 'thinking'    // 로딩 중
  | 'success'     // 성공
  | 'error'       // 오류
  | 'celebrating' // 업로드 완료
  | 'searching'   // RAG 검색 중
  | 'sleeping'    // 야간 모드
```

### 4.3 추임새 시스템
- 상황별 대사 풀 (각 5~8개)에서 랜덤 선택
- 말풍선 UI: 캐릭터 위에 툴팁 스타일 (3~4초 표시 후 사라짐)
- 텍스트: Noto Sans KR, 14px, 공장 감성 말투

### 4.4 사용자 제어
- **토글 버튼**: 김치군 ON/OFF (로컬스토리지 저장)
- **설정**: 추임새 음소거 옵션 (사운드 추가 시)
- **접근성**: aria-live="polite", aria-label 제공

### 4.5 성능
- CSS 전용 애니메이션 (GPU 가속, will-change: transform)
- React.memo로 불필요한 리렌더링 방지
- 애니메이션은 prefers-reduced-motion 존중

---

## 5. 컴포넌트 구조 (Component Architecture)

```
components/mascot/
  KimchiMascot.tsx        # 메인 캐릭터 컴포넌트
  MascotSpeech.tsx        # 말풍선 컴포넌트
  KimchiSvg.tsx           # SVG 캐릭터 정의
  mascot-phrases.ts       # 상황별 대사 데이터
  useMascot.ts            # 마스코트 상태 훅

hooks/
  useMascotTrigger.ts     # 글로벌 이벤트 → 마스코트 상태 브릿지
```

---

## 6. 글로벌 이벤트 시스템

앱 전체에서 마스코트 상태를 제어하기 위한 커스텀 이벤트:

```typescript
// 어느 컴포넌트에서나 마스코트 상태 변경 가능
window.dispatchEvent(new CustomEvent('kimchi-mascot', {
  detail: { state: 'thinking', context: 'chat' }
}))
```

---

## 7. 성공 기준 (Success Metrics)

| 지표 | 목표 |
|------|------|
| 마스코트 OFF 비율 | < 20% (대부분 켜놓음) |
| 세션 당 평균 사용 시간 | 20% 증가 |
| 사용자 만족도 | "재미있다" 응답 > 70% |
| 성능 영향 | LCP +0ms, CLS 0 |
| 접근성 | WCAG 2.1 AA 준수 |

---

## 8. 개발 우선순위 (Sprint Plan)

| Sprint | 내용 | 기간 |
|--------|------|------|
| Sprint 1 | SVG 캐릭터 + idle/thinking/success 3개 상태 | 1일 |
| Sprint 2 | 말풍선 + 대사 시스템 + 모든 상태 | 1일 |
| Sprint 3 | 글로벌 이벤트 연동 + 앱 통합 | 1일 |
| Sprint 4 | ON/OFF 토글 + 접근성 + 야간모드 | 0.5일 |

**총 예상 개발 기간**: 3.5일

---

## 9. 창의적 확장 아이디어 (Future Ideas)

- **레벨업 시스템**: 많이 사용할수록 김치군이 성장 (씨앗 → 배추 → 김치)
- **계절 특별 이벤트**: 김장철(11월) 특별 의상
- **응원 메시지**: 월요일 아침 특별 대사
- **김치 숙성도 표시**: 공정 상태에 따라 캐릭터 색상 변화
- **소리 효과**: "찰칵", "뚝딱" 효과음 (선택적)

---

## 관련 문서
- Design: `docs/02-design/features/kimchi-mascot.design.md` (예정)
- 참조 Phase: Phase 3 Dashboard (기존 탭 구조 활용)
