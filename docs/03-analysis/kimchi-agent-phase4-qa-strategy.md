# Kimchi-Agent Phase 4 Sprint 3 — 베타 테스트 전략

**작성일**: 2026-02-28
**버전**: 1.0
**대상 Phase**: Phase 4 Sprint 3 (ML 예측 + 대시보드 + 모바일)

---

## 1. 베타 테스트 대상 (공장 운영자 5명)

### 참가자 프로필

| ID  | 역할        | 이름(가명) | 경력   | IT 친숙도 | 주 관심사                          |
|-----|-------------|-----------|--------|-----------|------------------------------------|
| U01 | 공장장      | 김철수     | 15년   | 낮음      | 생산성 종합 현황, 예측 신뢰성       |
| U02 | 품질관리자  | 이영희     | 8년    | 중간      | 발효 품질 이상 감지, RAG 문서 검색  |
| U03 | 운영자 A    | 박민준     | 3년    | 중간      | 센서 실시간 모니터링, 알림 처리     |
| U04 | 운영자 B    | 정수현     | 5년    | 중간      | 모바일 접속, 현장 즉시 확인         |
| U05 | IT 관리자   | 최지훈     | 10년   | 높음      | 시스템 안정성, API 응답 속도        |

### 테스트 일정
- **기간**: 2026-03-07 ~ 2026-03-14 (7일)
- **환경**: 실제 공장 내 PC / 스마트폰
- **서버**: 스테이징 환경 (`http://staging.kimchi-agent.internal:3000`)

---

## 2. 테스트 시나리오

### TC-01: 발효 상태 질문 + ML 예측 확인

**대상 참가자**: U01, U02, U03
**전제 조건**: 발효 탱크 센서 데이터가 실시간 수집 중

**테스트 단계**:
1. 채팅창에 "현재 3번 탱크 발효 상태 어때요?" 입력
2. AI 답변에서 ML 예측 결과(적정/주의/위험) 표시 확인
3. 예측 신뢰도(%) 수치 표시 확인
4. "앞으로 24시간 후 발효 예측해줘" 추가 질문

**예상 결과**:
- 현재 발효 상태 텍스트 답변 + 신뢰도 수치 표시
- 예측 트렌드 차트 또는 수치 응답 포함
- 응답 시간 ≤ 5초

**Pass 기준**: 예측값이 실제 센서 데이터 기반으로 계산되었음을 확인

---

### TC-02: 문서 업로드 후 관련 질문 RAG 검색

**대상 참가자**: U02, U05
**전제 조건**: 김치 제조 표준 절차서(PDF/TXT) 준비됨

**테스트 단계**:
1. 문서 업로드 화면에서 "발효공정_표준절차서.pdf" 업로드
2. 업로드 완료 확인 (토스트 알림 또는 문서 목록에 표시)
3. 채팅창에 "HACCP 기준 온도 범위가 어떻게 돼요?" 질문
4. 답변 내 RAG 출처(문서명, 섹션) 표시 확인
5. "김치 숙성 단계별 pH 범위를 알려줘" 추가 질문

**예상 결과**:
- 업로드 문서 기반 정확한 답변 반환
- 출처 섹션(MessageBubble RAG 소스) 명시
- 업로드 시간 ≤ 30초 (10MB 이하 문서 기준)

**Pass 기준**: 답변이 업로드 문서 내용과 일치하며 출처 표시됨

---

### TC-03: 대시보드 센서 차트 실시간 확인

**대상 참가자**: U01, U03, U04
**전제 조건**: 대시보드 페이지 구현 완료, 센서 SSE 스트림 연결 중

**테스트 단계**:
1. 대시보드 탭으로 이동
2. 온도/pH/염도 차트 실시간 업데이트 확인 (30초 주기)
3. 특정 탱크 선택 후 해당 탱크 차트만 필터링
4. 차트 값 클릭 → 채팅으로 연결 "이 시점 이상 원인은?" 질문
5. 이상값(빨간 영역) 표시 확인

**예상 결과**:
- 차트 데이터 30초 이내 자동 갱신
- 탱크별 필터링 정상 동작
- 이상값 시각적 강조 표시

**Pass 기준**: 센서 값이 실시간으로 반영되며 탱크 필터링 동작 확인

---

### TC-04: 알림 발생 시 확인(acknowledge) 처리

**대상 참가자**: U01, U03, U04
**전제 조건**: 알림 시스템 활성화, 테스트용 임계값 초과 이벤트 발생 가능

**테스트 단계**:
1. 관리자가 테스트 알림 트리거 (온도 임계값 초과)
2. 사용자 화면 상단 알림 배지 표시 확인
3. 알림 패널 열어 상세 내용 확인
4. "확인(Acknowledge)" 버튼 클릭
5. 알림 상태가 "처리됨"으로 변경 확인
6. 채팅에서 "최근 알림 이력 보여줘" 질문

**예상 결과**:
- 알림 발생 후 3초 이내 UI 배지 표시
- Acknowledge 처리 후 상태 즉시 반영
- 채팅에서 알림 이력 조회 가능

**Pass 기준**: 알림 수신→확인→이력 조회 전체 플로우 오류 없이 완료

---

### TC-05: 모바일(스마트폰) 환경 채팅 동작

**대상 참가자**: U04, U02
**전제 조건**: 스마트폰(iOS/Android) + 동일 네트워크 접속

**테스트 단계**:
1. 스마트폰 브라우저에서 서비스 접속
2. 사이드바 햄버거 메뉴 → 대화 목록 전환 확인
3. 키보드 올라올 때 입력창 가려짐 없는지 확인
4. "오늘 생산량 어떻게 돼?" 질문 전송
5. 음성 입력 버튼 → 말하기 → 텍스트 변환 확인
6. 긴 답변 스크롤 동작 확인

**예상 결과**:
- 모바일 레이아웃 정상 렌더링 (Sidebar 오버레이)
- 소프트키보드 표시 시 입력창 노출 유지
- 음성 입력(Web Speech API, ko-KR) 정상 동작

**Pass 기준**: 모바일 환경에서 모든 핵심 기능 사용 가능하며 레이아웃 깨짐 없음

---

## 3. 만족도 설문 항목

**설문 시점**: 베타 테스트 7일차 종료 후
**형식**: Google Forms / 종이 설문 (5점 척도 + 자유 의견)

### 5점 척도 항목

| # | 항목              | 질문                                                          |
|---|-------------------|---------------------------------------------------------------|
| Q1 | 답변 정확성       | AI의 답변이 실제 공장 상황에 맞게 정확하다고 느끼셨나요?       |
| Q2 | 응답 속도         | 질문 후 답변이 오기까지 기다리는 시간이 적절하였나요?          |
| Q3 | UI 편의성         | 화면 구성과 조작 방법이 사용하기 편리하였나요?                 |
| Q4 | 예측 신뢰도       | ML 발효 예측 결과를 신뢰할 수 있다고 느끼셨나요?              |
| Q5 | 재사용 의향       | 실제 업무에서 이 시스템을 계속 사용하고 싶으신가요?           |

**척도 기준**:
`1 = 매우 불만족` / `2 = 불만족` / `3 = 보통` / `4 = 만족` / `5 = 매우 만족`

### 자유 의견

- **불편했던 점**: 개선이 필요하다고 느낀 기능이나 화면을 자유롭게 작성해 주세요.
- **좋았던 점**: 특히 유용하다고 느낀 기능이나 경험을 작성해 주세요.
- **추가 요청 사항**: 앞으로 추가되었으면 하는 기능이나 개선 사항을 작성해 주세요.

---

## 4. 성공 기준

| 지표                  | 목표값                     | 측정 방법                          |
|-----------------------|----------------------------|------------------------------------|
| 평균 만족도           | **≥ 4.0 / 5.0**            | 5개 척도 항목 전체 평균            |
| Critical 버그         | **0개**                    | 서비스 중단 / 데이터 손실 버그 없음|
| Major 버그            | ≤ 3개                      | 핵심 기능 동작 불가 버그           |
| TC Pass Rate          | ≥ 90% (23/25 시나리오 단계) | 각 TC 단계별 Pass/Fail 기록        |
| 응답 시간             | P95 ≤ 5초                  | 채팅 응답 타임스탬프 로그          |
| 모바일 접속 성공률    | ≥ 95%                      | TC-05 세션 성공 / 전체 시도        |

### 버그 심각도 분류

| 등급     | 정의                                       | 예시                              |
|----------|--------------------------------------------|-----------------------------------|
| Critical | 서비스 중단 또는 데이터 손실              | 채팅 전송 불가, DB 오류           |
| Major    | 핵심 기능 동작 불가                        | RAG 검색 결과 미표시, 로그인 실패 |
| Minor    | 기능은 동작하나 UX 불편                    | 레이아웃 깨짐, 로딩 표시 누락     |
| Trivial  | 미관상 문제                                | 폰트 크기, 색상 불일치            |

---

## 5. 버그 리포트 템플릿 (GitHub Issue 형식)

```markdown
## Bug Report

**버그 ID**: BUG-YYYY-###
**발견일**: YYYY-MM-DD
**보고자**: [참가자 ID / 역할]
**심각도**: Critical / Major / Minor / Trivial
**관련 TC**: TC-0X

---

### 환경 정보
- **기기**: PC / Android / iOS
- **브라우저**: Chrome XX / Safari XX / Edge XX
- **OS**: Windows 11 / Android 14 / iOS 17
- **화면 해상도**: (해당 시)

---

### 재현 단계
1. [첫 번째 단계]
2. [두 번째 단계]
3. [세 번째 단계]

---

### 예상 결과
[정상적으로 어떻게 동작해야 하는지 설명]

---

### 실제 결과
[실제로 어떤 일이 발생했는지 설명]

---

### 재현율
- [ ] 항상 재현 (100%)
- [ ] 가끔 재현 (50%)
- [ ] 드물게 재현 (25% 이하)

---

### 첨부 파일
- 스크린샷: [첨부]
- 동영상: [첨부]
- 콘솔 로그:

```
[콘솔 오류 메시지 붙여넣기]
```

---

### 추가 메모
[기타 참고사항]
```

---

## 6. 실 발효 데이터 수집 가이드

### 저장 경로
```
data/fermentation/
  YYYY-MM-DD_tank{N}.csv     # 일별 탱크별 센서 데이터
  README.md                   # 컬럼 설명
```

### CSV 형식 스펙

**파일명 예시**: `2026-03-07_tank3.csv`

```csv
timestamp,tank_id,temperature_c,ph,salinity_pct,pressure_kpa,status,note
2026-03-07T08:00:00+09:00,TANK-003,18.5,4.2,2.1,101.3,normal,
2026-03-07T08:30:00+09:00,TANK-003,18.7,4.1,2.1,101.4,normal,
2026-03-07T09:00:00+09:00,TANK-003,19.2,4.0,2.2,101.5,warning,온도 상승 주의
2026-03-07T09:30:00+09:00,TANK-003,18.9,4.0,2.1,101.3,normal,온도 정상화
```

### 컬럼 정의

| 컬럼명           | 타입     | 단위  | 설명                                   | 허용 범위            |
|-----------------|----------|-------|----------------------------------------|----------------------|
| timestamp       | datetime | -     | ISO 8601 형식 (KST +09:00)             | -                    |
| tank_id         | string   | -     | 탱크 식별자 (TANK-001 ~ TANK-010)      | -                    |
| temperature_c   | float    | °C    | 발효 온도                               | 0.0 ~ 30.0           |
| ph              | float    | -     | pH 수치                                | 3.0 ~ 7.0            |
| salinity_pct    | float    | %     | 염도 (%)                               | 1.0 ~ 5.0            |
| pressure_kpa    | float    | kPa   | 내부 압력                               | 95.0 ~ 110.0         |
| status          | string   | -     | normal / warning / critical            | -                    |
| note            | string   | -     | 운영자 메모 (선택)                      | -                    |

### 수집 규칙
- **수집 주기**: 30분 간격 (자동 센서) / 이상 발생 시 즉시 추가 기록
- **수집 기간**: 베타 테스트 전체 기간 (2026-03-07 ~ 2026-03-14)
- **탱크 범위**: 베타 테스트 참가 탱크 (최소 3개 이상)
- **파일 관리**: 일별 파일 생성, 한 파일 최대 1,000행 (초과 시 분할)
- **결측값 처리**: 센서 오류 시 해당 컬럼 빈 값("") + note에 "센서 오류" 기록

### 데이터 품질 체크리스트
- [ ] timestamp 형식 일관성 확인 (ISO 8601)
- [ ] tank_id 대소문자 통일 (TANK-XXX)
- [ ] 허용 범위 초과값 note에 기록
- [ ] status 값이 normal/warning/critical 중 하나
- [ ] 파일 인코딩 UTF-8 확인

---

## 7. 테스트 진행 일정

| 일차  | 날짜        | 활동                                            |
|-------|-------------|-------------------------------------------------|
| Day 0 | 2026-03-06  | 스테이징 환경 배포, 참가자 사전 교육 (30분)      |
| Day 1 | 2026-03-07  | TC-01, TC-02 실행, 초기 데이터 수집 시작        |
| Day 2 | 2026-03-08  | TC-03, TC-04 실행                               |
| Day 3 | 2026-03-09  | TC-05 실행 (모바일), 중간 버그 리뷰             |
| Day 4 | 2026-03-10  | 자유 사용 기간 (시나리오 재시도 허용)            |
| Day 5 | 2026-03-11  | 자유 사용 기간 + 데이터 수집 계속               |
| Day 6 | 2026-03-12  | 자유 사용 기간 + 버그 수정 패치 배포            |
| Day 7 | 2026-03-13  | 만족도 설문 완료, 데이터 수집 종료              |
| Day 8 | 2026-03-14  | 결과 분석, 최종 보고서 작성                     |

---

## 8. 결과 보고 형식

베타 테스트 완료 후 `docs/03-analysis/kimchi-agent-phase4-beta-result.md` 작성:

```markdown
# Phase 4 베타 테스트 결과

## 요약
- 참가자: 5명
- 기간: 2026-03-07 ~ 2026-03-13
- TC Pass Rate: X/25 (XX%)
- 평균 만족도: X.X / 5.0
- 성공 기준 달성 여부: Pass / Fail

## 버그 현황
| 등급     | 발견 수 | 수정 완료 |
|----------|---------|-----------|
| Critical | 0       | -         |
| Major    | X       | X         |
| Minor    | X       | X         |

## 만족도 상세
| 항목          | 평균 |
|--------------|------|
| 답변 정확성   | X.X  |
| 응답 속도     | X.X  |
| UI 편의성     | X.X  |
| 예측 신뢰도   | X.X  |
| 재사용 의향   | X.X  |

## 주요 피드백 요약
[자유 의견 취합]

## Phase 5 개선 항목
[베타 테스트에서 도출된 개선 사항]
```
